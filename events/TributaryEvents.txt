########################################
# Events for Tributaries
#
# written by Henrik Lohmander
########################################

namespace = tributary_events

#Beneficial Effects of the Tributary Relationship:

# Diffusion of knowledge
# Subject
country_event = {
	id = tributary_events.1
	title = tributary_events.1.t
	desc = tributary_events.1.d
	picture = MERITOCRACY_eventPicture
	
	is_triggered_only = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		is_subject_of_type = tributary_state
		NOT = { has_country_modifier = tributary_diplomatic_influence }
		NOT = { has_country_modifier = tributary_institution_influence }
		overlord = {
			can_be_overlord = tributary_state #Block when it doesn't make sense.
			OR = { #More Advanced Overlord
				institution_difference = { who = ROOT value = 1 }
				tech_difference = 4
			}
			NOT = {
				ai_attitude = {
					who = ROOT
					attitude = attitude_hostile
				}
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_list = {
				25 = { set_country_flag = overlord_inspired_official }
				25 = { set_country_flag = overlord_inspired_trader }
				25 = { set_country_flag = overlord_inspired_institutions_spread }
				25 = { set_country_flag = overlord_inspired_dip_rep }
			}
			overlord = {
				save_event_target_as = overlord_country
			}
		}
	}

	option = {
		name = "tributary_events.1.a"
		trigger_switch = {
			on_trigger = has_country_flag
			overlord_inspired_official = {
				define_advisor = {
					type = philosopher
					skill = 2
					discount = yes
					religion = event_target:overlord_country
				}
				add_estate_church_loyalty_effect = yes
				clr_country_flag = overlord_inspired_official
			}
			overlord_inspired_trader = {
				define_advisor = {
					type = trader
					skill = 2
					discount = yes
					religion = event_target:overlord_country
				}
				add_estate_burghers_loyalty_effect = yes
				clr_country_flag = overlord_inspired_trader
			}
			overlord_inspired_institutions_spread = {
				clr_country_flag = overlord_inspired_institutions_spread
				add_country_modifier = {
					name = "tributary_institution_influence"
					duration = 5475
				}
			}
			overlord_inspired_dip_rep = {
				add_country_modifier = {
					name = "tributary_diplomatic_influence"
					duration = 5475
				}
				add_estate_nobles_loyalty_effect = yes
				clr_country_flag = overlord_inspired_dip_rep
			}
		}
	}
	option = {
		name = "tributary_events.1.b"
		increase_legitimacy_medium_effect = yes
		add_stability_or_adm_power = yes
	}
}

# The X Sphere
# Subject
country_event = {
	id = tributary_events.2
	title = tributary_events.2.t
	desc = tributary_events.2.d
	picture = TRIBUTARY_FLEET_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_dlc = "Mandate of Heaven"
		is_subject_of_type = tributary_state
		overlord = {
			can_be_overlord = tributary_state #Block when it doesn't make sense.
			NOT = {
				ai_attitude = {
					who = ROOT
					attitude = attitude_hostile
				}
			}
			any_subject_country = {
				is_subject_of_type = tributary_state
				NOT = { tag = ROOT }
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "tributary_events.2.a" #A good way to make new far-away friends.
		add_prestige = 10
		random_country = {
			limit = {
				overlord = {
					any_subject_country = {
						tag = ROOT
					}
				}
			}
			add_opinion = {
				who = ROOT
				modifier = tributary_same_overlord
			}
		}
	}
	option = {
		name = "tributary_events.2.b" #Our Neighbors are Impressed
		increase_legitimacy_small_effect = yes
		random_neighbor_country = {
			limit = {
				is_subject = no
			}
			add_opinion = {
				who = ROOT
				modifier = tributary_impressive_overlord
			}
		}
	}
}

# Political Legitimacy
# Subject
country_event = {
	id = tributary_events.3
	title = tributary_events.3.t
	desc = tributary_events.3.d
	picture = IMPERIAL_SEAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_dlc = "Mandate of Heaven"
		is_subject_of_type = tributary_state
		overlord = {
			can_be_overlord = tributary_state #Block when it doesn't make sense.
			NOT = {
				ai_attitude = {
					who = ROOT
					attitude = attitude_hostile
				}
			}
			OR = {
				AND = {
					government_rank = 3
					ROOT = { NOT = { government_rank = 3 } }
				}
				AND = {
					government_rank = 2
					ROOT = { NOT = { government_rank = 2 } }
				}
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "tributary_events.3.a"
		increase_legitimacy_medium_effect = yes
		add_estate_nobles_loyalty_effect = yes
	}
	
	option = {
		name = "tributary_events.3.b"
		add_stability_or_adm_power = yes
		add_estate_church_loyalty_effect = yes
	}
}

# Diplomatic Influence
country_event = {
	id = tributary_events.4
	title = tributary_events.4.t
	desc = tributary_events.4.d
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_dlc = "Mandate of Heaven"
		can_be_overlord = tributary_state #Block when it doesn't make sense.
		OR = {
			AND = {
				government_rank = 2
				calc_true_if = {
					any_subject_country = {
						is_subject_of_type = tributary_state
					}
					amount = 6
				}
			}
			AND = {
				government_rank = 3
				calc_true_if = {
					any_subject_country = {
						is_subject_of_type = tributary_state
					}
					amount = 10
				}
			}
		}
		NOT = { has_country_modifier = influential_tributary_network }
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "tributary_events.4.a"
		add_country_modifier = {
			name = influential_tributary_network
			duration = 3650
		}
	}
	option = {
		name = "tributary_events.4.b"
		add_dip_power = 50
	}
}

# Diffusion of Tech to Overlord
# Because not every tributary is one to China
country_event = {
	id = tributary_events.5
	title = tributary_events.5.t
	desc = tributary_events.5.d
	picture = MERITOCRACY_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_dlc = "Mandate of Heaven"
		can_be_overlord = tributary_state #Block when it doesn't make sense.
		any_subject_country = {
			is_subject_of_type = tributary_state
			OR = {
				institution_difference = { who = ROOT value = 1 }
				tech_difference = 4
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_subject_of_type = tributary_state
					OR = {
						institution_difference = { who = ROOT value = 1 }
						tech_difference = 4
					}
				}
				save_event_target_as = tributary_advanced_underling
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "tributary_events.5.a" #Spread and tech modifier
		event_target:tributary_advanced_underling = {
			add_opinion = {
				who = ROOT
				modifier = tributary_forced_brain_drain
			}
		}
		add_country_modifier = {
			name = "tributary_diffusion_of_knowledge"
			duration = 3650
		}
	}
	option = {
		name = "tributary_events.5.b" #Direct Spread in capital, might be more valuable depending on circumstances.
		trigger = {
			always = no #TODO, needs better effects/triggers
			any_subject_country = {
				is_subject_of_type = tributary_state
				institution_difference = { who = ROOT value = 1 }
			}
		}
		event_target:tributary_advanced_underling = {
			add_opinion = {
				who = ROOT
				modifier = tributary_forced_brain_drain
			}
		}
		capital_scope = {
			#Adds 50 to latest institution
		}
	}
	option = {
		name = "tributary_events.5.c" #Let us allow them their freedom
		add_prestige = 5
	}
}

# X trading colony
country_event = {
	id = tributary_events.6
	title = tributary_events.6.t
	desc = tributary_events.6.d
	picture = TRIBUTARY_FLEET_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_dlc = "Mandate of Heaven"
		is_subject_of_type = tributary_state
		num_of_ports = 1
		overlord = {
			can_be_overlord = tributary_state #Block when it doesn't make sense.
			num_of_ports = 1
			NOT = {
				has_reform = steppe_horde
			}
		}
		any_owned_province = {
			has_port = yes
			is_in_capital_area = yes
		}
		NOT = {
			any_owned_province = {
				has_province_modifier = tributary_overlord_trading_port
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = { #Worst case
				limit = {
					has_port = yes
					is_in_capital_area = yes
				}
				save_event_target_as = tributary_trader_port
			}
			random_owned_province = { #Better
				limit = {
					has_port = yes
					is_in_capital_area = yes
					province_trade_power = 6
				}
				save_event_target_as = tributary_trader_port
			}
			random_owned_province = { #Best
				limit = {
					has_port = yes
					is_in_capital_area = yes
					OR = {
						development = 15
						province_trade_power = 10
					}
				}
				save_event_target_as = tributary_trader_port
			}
		}
	}

	option = {
		name = "tributary_events.6.a"
		custom_tooltip = tributary_events.6.a.tt
		add_corruption = 1
		event_target:tributary_trader_port = {
			add_base_production = 1
			add_province_modifier = { #Destroyed on Conquest
				name = "tributary_overlord_trading_port"
				duration = 10950
			}
		}
		set_country_flag = tributary_harbored_criminals #Detection Risk
	}
	option = {
		name = "tributary_events.6.b"
		event_target:tributary_trader_port = {
			add_province_modifier = { #Destroyed on Conquest
				name = "tributary_overlord_trading_port"
				duration = 1825
			}
		}
	}
}

# Tributary is Harboring Criminals!
country_event = {
	id = tributary_events.7
	title = tributary_events.7.t
	desc = tributary_events.7.d
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_dlc = "Mandate of Heaven"
		can_be_overlord = tributary_state #Block when it doesn't make sense.
		any_subject_country = {
			is_subject_of_type = tributary_state
			has_country_flag = tributary_harbored_criminals
			NOT = { had_country_flag = { flag = tributary_harbored_criminals days = 10950 } }
			any_owned_province = {
				has_province_modifier = tributary_overlord_trading_port
			}
		}
	}
	
	immediate = {
		random_subject_country = {
			limit = {
				is_subject_of_type = tributary_state
				has_country_flag = tributary_harbored_criminals
				NOT = { had_country_flag = { flag = tributary_harbored_criminals days = 10950 } }
				any_owned_province = {
					has_province_modifier = tributary_overlord_trading_port
				}
			}
			save_event_target_as = tributary_criminal_country
			clr_country_flag = tributary_harbored_criminals
		}
	}

	option = {
		name = "tributary_events.7.a" #Let them know they're alive
		add_prestige = -5
		event_target:tributary_criminal_country = {
			country_event = { id = tributary_events.8 }
			tooltip = {
				random_owned_province = {
					limit = {
						has_province_modifier = tributary_overlord_trading_port
					}
					remove_province_modifier = tributary_overlord_trading_port
				}
			}
		}
	}
	option = {
		name = "tributary_events.7.b" #I don't dare
		add_prestige = -10
		reduce_mandate_effect = yes
		reduce_legitimacy_small_effect = yes
	}
}

# Overlord Accuses us of Harboring Criminals
# Triggers from event 7 (with reason) or on pulse (unjustly)
country_event = {
	id = tributary_events.8
	title = tributary_events.8.t
	desc = tributary_events.8.d
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	is_triggered_only = yes
	
	mean_time_to_happen = {
		days = 1
	}

	trigger = {
		has_dlc = "Mandate of Heaven"
		is_subject_of_type = tributary_state
		num_of_ports = 1
		overlord = {
			can_be_overlord = tributary_state #Block when it doesn't make sense.
		}
	}

	option = {
		name = "tributary_events.8.a" #Clear out the traders
		add_years_of_income = -0.5
		overlord = {
			add_opinion = {
				who = ROOT
				modifier = tributary_stopped_smugglers
			}
			add_trust = {
				who = ROOT
				value = 10
			}
			country_event = { id = tributary_events.20 }
		}
		random_owned_province = {
			limit = {
				has_province_modifier = tributary_overlord_trading_port
			}
			remove_province_modifier = tributary_overlord_trading_port
		}
	}
	option = {
		name = "tributary_events.8.b" #Refuse to Pay
		overlord = {
			add_opinion = {
				who = ROOT
				modifier = tributary_harbored_criminals
			}
			country_event = { id = tributary_events.21 }
		}
		random_owned_province = {
			limit = {
				has_province_modifier = tributary_overlord_trading_port
			}
			add_base_production = 1
			remove_province_modifier = tributary_overlord_trading_port
		}
	}
}

#Complaints from the Ministry of Rites - Too many tributary missions
# Ie vassal overhead can be costly
#Overlord
country_event = {
	id = tributary_events.9
	title = tributary_events.9.t
	desc = tributary_events.9.d
	picture = MERITOCRACY_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_dlc = "Mandate of Heaven"
		can_be_overlord = tributary_state #Block when it doesn't make sense.
		OR = {
			AND = {
				government_rank = 2
				calc_true_if = {
					all_subject_country = {
						is_subject_of_type = tributary_state
					}
					amount = 6
				}
			}
			AND = {
				government_rank = 3
				calc_true_if = {
					all_subject_country = {
						is_subject_of_type = tributary_state
					}
					amount = 10
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "tributary_events.9.a"
		add_dip_power = -50
	}
	option = {
		name = "tributary_events.9.b"
		add_years_of_income = -0.33
	}
}

# The X Incident
# Loosely Based on the Ningbo Incident
country_event = {
	id = tributary_events.10
	title = tributary_events.10.t
	desc = tributary_events.10.d
	picture = WOKOU_INCIDENT_eventPicture
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
		
			#Province where this takes place:
			random_owned_province = { #Fallback
				limit = {
					is_capital = yes
				}
				save_event_target_as = ningbo_province
			}
			random_owned_province = { #Better
				limit = {
					has_port = no
					is_in_capital_area = yes
				}
				save_event_target_as = ningbo_province
			}
			random_owned_province = { #Good
				limit = {
					has_port = yes
					is_in_capital_area = yes
				}
				save_event_target_as = ningbo_province
			}
			random_owned_province = { #Ideal situation
				limit = {
					is_capital = no
					has_port = yes
					is_in_capital_area = yes
				}
				save_event_target_as = ningbo_province
			}
			
			#Country it happens to
			
			random_subject_country = {
				limit = {
					is_subject_of_type = tributary_state
					OR = {
						AND = {
							government = monarchy
							NOT = { legitimacy_or_horde_unity = 80 }
						}
						AND = {
							government = republic
							NOT = { republican_tradition = 80 }
						}
					}
				}
				save_event_target_as = ningbo_country
			}
		}
	}
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		can_be_overlord = tributary_state #Block when it doesn't make sense.
		any_subject_country = {
			is_subject_of_type = tributary_state
			OR = {
				AND = {
					government = monarchy
					NOT = { legitimacy_or_horde_unity = 80 }
				}
				AND = {
					government = republic
					NOT = { republican_tradition = 80 }
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "tributary_events.10.a"
		add_adm_power = 15
		event_target:ningbo_country = {
			country_event = { id = tributary_events.11 }
		}
	}
	option = {
		name = "tributary_events.10.b"
		add_dip_power = 50
	}
}


country_event = {
	id = tributary_events.11
	title = tributary_events.11.t
	desc = tributary_events.11.d
	picture = WOKOU_INCIDENT_eventPicture
	
	is_triggered_only = yes

	option = {
		name = "tributary_events.11.a" #Unfortunate
		FROM = {
			random_active_trade_node = {
				limit = {
					NOT = {
						has_trade_modifier = {
							who = ROOT
							name = tributary_soured_relations
						}
					}
				}
				add_trade_modifier = {
					who = ROOT
					duration = 5475
					power = -10
					key = tributary_soured_relations
				}
			}
		}
		reduce_estate_burghers_loyalty_effect = yes
		add_estate_nobles_loyalty_effect = yes
	}
	option = {
		name = "tributary_events.11.b" #Compensate overlord
		add_years_of_income = -1
		hidden_effect = {
			export_to_variable = { which = money_to_give value = years_of_income who = ROOT }
		}
		FROM = {
			country_event = { id = tributary_events.12 }
		}
		add_estate_burghers_loyalty_effect = yes
		reduce_estate_nobles_loyalty_effect = yes
	}
}

#Apology from X
country_event = {
	id = tributary_events.12
	title = tributary_events.12.t
	desc = tributary_events.12.d
	picture = WOKOU_INCIDENT_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "tributary_events.12.a"
		custom_tooltip = tributary_events.12.a.tt
		
		FROM = {
			while = {
				limit = {
					check_variable = { which = money_to_give value = 1 }
				}
				subtract_variable = { which = money_to_give value = 1 }
				ROOT = { add_treasury = 1 }
			}
		}
	}
}

# Influx of X Goods
# Overlord -> Subject
country_event = {
	id = tributary_events.13
	title = tributary_events.13.t
	desc = tributary_events.13.d
	picture = TRIBUTARY_FLEET_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_dlc = "Mandate of Heaven"
		can_be_overlord = tributary_state #Block when it doesn't make sense.
		NOT = { has_country_modifier = tributary_smuggling_ring_overlord }
		any_subject_country = {
			is_subject_of_type = tributary_state
			NOT = { has_country_modifier = tributary_smuggling_ring_subject }
			OR = {
				NOT = { has_country_flag = tributary_smugglers_happened }
				had_country_flag = { flag = tributary_smugglers_happened days = 5475 }
			}
			any_owned_province = { #Sanity Check
				OR = {
					development = 15 #Produces luxury goods
					AND = { #Trade Goods other than these should be fine without necessarily having to be refined that much.
						NOT = { trade_goods = iron } #Luxery related to Iron would high dev province
						NOT = { trade_goods = wool } #Luxery related to Wool would high dev province
						NOT = { trade_goods = copper } #Luxery related to Copper would high dev province
						NOT = { trade_goods = naval_supplies } #Luxery related to Copper would high dev province
						NOT = { trade_goods = fish } #Luxery related to Copper would high dev province
						NOT = { trade_goods = grain } #Luxery related to Copper would high dev province
					}
				}
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_subject_of_type = tributary_state
					NOT = { has_country_modifier = tributary_smuggling_ring_subject }
					OR = {
						NOT = { has_country_flag = tributary_smugglers_happened }
						had_country_flag = { flag = tributary_smugglers_happened days = 5475 }
					}
					any_owned_province = { #Sanity Check
						OR = {
							development = 15 #Produces luxury goods
							AND = { #Trade Goods other than these should be fine without necessarily having to be refined that much.
								NOT = { trade_goods = iron } #Luxery related to Iron would high dev province
								NOT = { trade_goods = wool } #Luxery related to Wool would high dev province
								NOT = { trade_goods = copper } #Luxery related to Copper would high dev province
								NOT = { trade_goods = naval_supplies } #Luxery related to Copper would high dev province
								NOT = { trade_goods = fish } #Luxery related to Copper would high dev province
								NOT = { trade_goods = grain } #Luxery related to Copper would high dev province
							}
						}
					}
				}
				save_event_target_as = exotic_tributary
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "tributary_events.13.a" #I want in on this
		add_corruption = 1
		event_target:exotic_tributary = {
			country_event = { id = tributary_events.15 }
		}
		reduce_estate_burghers_loyalty_effect = yes
		add_country_modifier = {
			name = "tributary_smuggling_ring_overlord"
			duration = 5475
		}
	}
	option = {
		name = "tributary_events.13.b" #Attempt to stop it (may happen anyway but with us cut out)
		add_mandate_effect = yes
		add_legitimacy = 5
		add_devotion = 5
		add_horde_unity = 5
		add_republican_tradition = 2.5
		add_estate_burghers_loyalty_effect = yes
		event_target:exotic_tributary = {
			country_event = { id = tributary_events.14 }
		}
	}
}

#Overlord Trade Regulations
country_event = {
	id = tributary_events.14
	title = tributary_events.14.t
	desc = tributary_events.14.d
	picture = TRIBUTARY_FLEET_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = { set_country_flag = tributary_smugglers_happened }
	}

	option = {
		name = "tributary_events.14.a" #Happy Overlord
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = tributary_stopped_smugglers
			}
		}
		reduce_estate_burghers_loyalty_effect = yes
	}
	option = {
		name = "tributary_events.14.b" #Gives benefit to subject but not overlord
		add_corruption = 1
		add_country_modifier = {
			name = "tributary_smuggling_ring_subject"
			duration = 5475
		}
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = tributary_aiding_smugglers
			}
		}
		add_estate_burghers_loyalty_effect = yes
	}
}

#Smugglers bring our goods to overlord
country_event = {
	id = tributary_events.15
	title = tributary_events.15.t
	desc = tributary_events.15.d
	picture = TRIBUTARY_FLEET_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = { set_ruler_flag = tributary_smugglers_happened }
	}

	option = {
		name = "tributary_events.15.a"
		add_country_modifier = {
			name = "tributary_smuggling_ring_subject"
			duration = 3650 #Shorter duration, many of the beneiciaries will be in the overlord country.
		}
	}
}

# Political Refugees
country_event = {
	id = tributary_events.16
	title = tributary_events.16.t
	desc = tributary_events.16.d
	picture = WOKOU_INCIDENT_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_dlc = "Mandate of Heaven"
		is_subject_of_type = tributary_state
		overlord = {
			can_be_overlord = tributary_state #Block when it doesn't make sense.
		}
		any_owned_province = {
			NOT = { has_province_modifier = tributary_overlord_refugees }
			OR = {
				development = 10
				is_capital = yes
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "tributary_events.16.a"
		random_owned_province = {
			limit = {
				OR = {
					is_capital = yes
					development = 10
				}
			}
			add_province_modifier = {
				name = "tributary_overlord_refugees"
				duration = 3650
			}
		}
	}
	option = {
		name = "tributary_events.16.b"
		increase_legitimacy_medium_effect = yes
		overlord = {
			add_opinion = {
				who = ROOT
				modifier = tributary_gave_up_political_refugees
			}
		}
	}
}

# Eunuchs
country_event = {
	id = tributary_events.17
	title = tributary_events.17.t
	desc = tributary_events.17.d
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		religion_group = eastern
		can_be_overlord = tributary_state #Block when it doesn't make sense.
		any_subject_country = {
			is_subject_of_type = tributary_state
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { num_of_ports = 1 }
				random_list = {
					25 = { set_country_flag = eunuch_administrators }
					25 = { set_country_flag = eunuch_general }
					25 = { set_country_flag = eunuch_advisor }
					25 = { set_country_flag = eunuch_admiral }
				}
				else = {
					random_list = {
						33 = { set_country_flag = eunuch_administrators }
						33 = { set_country_flag = eunuch_general }
						33 = { set_country_flag = eunuch_advisor }
					}
				}
			}
			random_subject_country = {
				limit = { is_subject_of_type = tributary_state }
				save_event_target_as = tributary_country
			}
		}
	}

	option = {
		name = "tributary_events.17.a"
		add_meritocracy_effect = yes
		trigger_switch = {
			on_trigger = has_country_flag
			eunuch_administrators = {
				add_adm_power = 50
				clr_country_flag = eunuch_administrators
			}
			eunuch_general = {
				create_general = { tradition = 40 }
				clr_country_flag = eunuch_general
			}
			eunuch_advisor = {
				define_advisor = {
					type = master_of_mint
					skill = 2
					discount = yes
					culture = event_target:tributary_country
					religion = event_target:tributary_country
				}
				clr_country_flag = eunuch_advisor
			}
			eunuch_admiral = {
				create_admiral = {
					tradition = 40
				}
				clr_country_flag = eunuch_admiral
			}
		}
	}
}

# Piracy
country_event = {
	id = tributary_events.18
	title = tributary_events.18.t
	desc = tributary_events.18.d
	picture = WOKOU_INCIDENT_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		num_of_ports = 1
		can_be_overlord = tributary_state #Block when it doesn't make sense.
		NOT = {
			has_country_modifier = tributary_mission_piracy
		}
		any_subject_country = {
			is_subject_of_type = tributary_state
			num_of_ports = 1
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "tributary_events.18.a"
		add_years_of_income = -0.5
		add_country_modifier = {
			name = tributary_mission_piracy
			duration = 1825
		}
	}
	option = {
		name = "tributary_events.18.b"
		add_country_modifier = {
			name = tributary_mission_piracy
			duration = 3650
		}
	}
}

# Reward Loyal Tributary?
country_event = {
	id = tributary_events.19
	title = tributary_events.19.t
	desc = tributary_events.19.d
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		can_be_overlord = tributary_state #Block when it doesn't make sense.
		any_subject_country = {
			is_subject_of_type = tributary_state
			ROOT = {
				trust = {
					who = PREV
					value = 85
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_subject_of_type = tributary_state
					ROOT = {
						trust = {
							who = PREV
							value = 85
						}
					}
				}
				save_event_target_as = tributary_loyal
			}
		}
	}
	
	option = {
		name = "tributary_events.19.a"
		add_treasury = -100
		event_target:tributary_loyal = {
			country_event = { id = tributary_events.22 }
			add_opinion = {
				who = ROOT
				modifier = tributary_paid_for_service
			}
		}
	}
	option = {
		name = "tributary_events.19.b"
		reduce_mandate_effect = yes
		reduce_legitimacy_medium_effect = yes
		every_subject_country = {
			limit = {
				is_subject_of_type = tributary_state
			}
			add_opinion = {
				who = ROOT
				modifier = tributary_ungrateful_overlord
			}
		}
	}
}

#Notification from harboring criminals
#Subject Pays
country_event = {
	id = tributary_events.20
	title = tributary_events.20.t
	desc = tributary_events.20.d
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "tributary_events.20.a"
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = tributary_stopped_smugglers
			}
		}
	}
	
}

#Notification from harboring criminals
#Subject Refuses to Pay
country_event = {
	id = tributary_events.21
	title = tributary_events.21.t
	desc = tributary_events.21.d
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "tributary_events.21.a"
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = tributary_harbored_criminals
			}
		}
	}
	
}

#Our Loyalty is Rewarded
country_event = {
	id = tributary_events.22
	title = tributary_events.22.t
	desc = tributary_events.22.d
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "tributary_events.22.a"
		add_treasury = 100
		increase_legitimacy_medium_effect = yes
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = tributary_paid_for_service
			}
		}
	}
	
}

# Fortune Seekers (Because non-eastern hordes don't demand Eunuchs).
country_event = {
	id = tributary_events.23
	title = tributary_events.23.t
	desc = tributary_events.23.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		can_be_overlord = tributary_state #Block when it doesn't make sense.
		NOT = { religion_group = eastern }
		any_subject_country = {
			is_subject_of_type = tributary_state
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { num_of_ports = 1 }
				random_list = {
					25 = { set_country_flag = fortune_seekers_officers }
					25 = { set_country_flag = fortune_seekers_general }
					25 = { set_country_flag = fortune_seekers_advisor }
					25 = { set_country_flag = fortune_seekers_admiral }
				}
				else = {
					random_list = {
						33 = { set_country_flag = fortune_seekers_officers }
						33 = { set_country_flag = fortune_seekers_general }
						33 = { set_country_flag = fortune_seekers_advisor }
					}
				}
			}
			random_subject_country = {
				limit = { is_subject_of_type = tributary_state }
				save_event_target_as = tributary_country
			}
		}
	}

	option = {
		name = "tributary_events.23.a"
		add_meritocracy_effect = yes
		trigger_switch = {
			on_trigger = has_country_flag
			fortune_seekers_officers = {
				add_yearly_manpower = 1
				clr_country_flag = fortune_seekers_officers
			}
			fortune_seekers_general = {
				create_general = { tradition = 40 }
				clr_country_flag = fortune_seekers_general
			}
			fortune_seekers_advisor = {
				define_advisor = {
					type = grand_captain
					skill = 2
					discount = yes
					culture = event_target:tributary_country
					religion = event_target:tributary_country
				}
				clr_country_flag = fortune_seekers_advisor
			}
			fortune_seekers_admiral = {
				create_admiral = {
					tradition = 40
				}
				clr_country_flag = fortune_seekers_admiral
			}
		}
	}
}

# Fortune Seekers -> Overlord to Tributaries
country_event = {
	id = tributary_events.24
	title = tributary_events.24.t
	desc = tributary_events.24.d
	picture = TRIBUTARY_FLEET_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		is_subject_of_type = tributary_state
		overlord = {
			can_be_overlord = tributary_state #Block when it doesn't make sense.
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		hidden_effect = {
			if = {
				limit = { num_of_ports = 1 }
				random_list = {
					20 = { set_country_flag = adventurer_officer }
					20 = { set_country_flag = adventurer_general }
					20 = { set_country_flag = adventurer_advisor }
					20 = { set_country_flag = adventurer_statesman }
					20 = { set_country_flag = adventurer_admiral }
				}
				else = {
					random_list = {
						25 = { set_country_flag = adventurer_officer }
						25 = { set_country_flag = adventurer_general }
						25 = { set_country_flag = adventurer_statesman }
						25 = { set_country_flag = adventurer_advisor }
					}
				}
			}
			overlord = {
				save_event_target_as = overlord_country
			}
		}
	}

	option = {
		name = "tributary_events.24.a" #
		trigger_switch = {
			on_trigger = has_country_flag
			adventurer_officer = {
				define_advisor = {
					type = army_reformer
					culture = event_target:overlord_country
					religion = event_target:overlord_country
					skill = 3
					discount = yes
				}
				clr_country_flag = adventurer_officer
			}
			adventurer_general = {
				create_general = { tradition = 40 }
				clr_country_flag = adventurer_general
			}
			adventurer_advisor = {
				define_advisor = {
					type = trader
					skill = 3
					culture = event_target:overlord_country
					religion = event_target:overlord_country
					discount = yes
				}
				clr_country_flag = adventurer_advisor
			}
			adventurer_statesman = {
				define_advisor = {
					type = trader
					skill = 3
					culture = event_target:overlord_country
					religion = event_target:overlord_country
					discount = yes
				}
				clr_country_flag = adventurer_statesman
			}
			adventurer_admiral = {
				create_admiral = {
					tradition = 40
				}
				clr_country_flag = adventurer_admiral
			}
		}
	}
}

# Factions in Overlord Support Pretender
country_event = {
	id = tributary_events.25
	title = tributary_events.25.t
	desc = tributary_events.25.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		is_subject_of_type = tributary_state
		OR = {
			AND = {
				government = monarchy
				NOT = { has_reform = celestial_empire }
				NOT = { legitimacy_or_horde_unity = 80 }
			}
			AND = {
				government = republic
				NOT = { republican_tradition = 80 } 
			}
			AND = {
				government = theocracy
				NOT = { devotion = 80 } 
			}
		}
		num_of_cities = 3
		overlord = {
			can_be_overlord = tributary_state #Block when it doesn't make sense.
			NOT = {
				trust = {
					who = PREV
					value = 50
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_capital = no
					is_state = yes
				}
				set_province_flag = tributary_supported_pretenders_here
			}
		}
	}

	option = {
		name = "tributary_events.25.a" #
		if = {
			limit = {
				government = monarchy
			}
			random_owned_province = {
				limit = {
					has_province_flag = tributary_supported_pretenders_here
				}
				spawn_rebels = {
					type = pretender_rebels
					size = 2
				}
				clr_province_flag = tributary_supported_pretenders_here
			}
		}
		if = {
			limit = {
				government = theocracy
			}
			random_owned_province = {
				limit = {
					has_province_flag = tributary_supported_pretenders_here
				}
				spawn_rebels = {
					type = particularist_rebels
					size = 1
				}
				clr_province_flag = tributary_supported_pretenders_here
			}
		}
		if = {
			limit = {
				government = republic
			}
			random_owned_province = {
				limit = {
					has_province_flag = tributary_supported_pretenders_here
				}
				spawn_rebels = {
					type = revolutionary_rebels
					size = 1
				}
				clr_province_flag = tributary_supported_pretenders_here
			}
		}
	}
	option = {
		name = "tributary_events.25.b" #
		add_years_of_income = -1
		overlord = {
			add_trust = {
				who = ROOT
				value = 10
			}
		}
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_province_flag = tributary_supported_pretenders_here
				}
				clr_province_flag = tributary_supported_pretenders_here
			}
		}
	}
}

# Slave Raid
country_event = {
	id = tributary_events.26
	title = tributary_events.26.t
	desc = tributary_events.26.d
	picture = BORDER_TENSION_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		is_subject_of_type = tributary_state
		overlord = {
			can_be_overlord = tributary_state #Block when it doesn't make sense.
			has_reform = steppe_horde
			is_neighbor_of = ROOT
		}
		NOT = { has_country_modifier = horde_slave_raid }
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = "tributary_events.26.a" #
		add_prestige = -10
		add_country_modifier = {
			name = "horde_slave_raid"
			duration = 1850
		}
	}
}

# Sometimes it's fun just to watch the world burn!
country_event = {
	id = tributary_events.27
	title = tributary_events.27.t
	desc = tributary_events.27.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		is_subject_of_type = tributary_state
		any_country = {
			is_in_war = {
				defender_leader = ROOT
				attacker_leader = THIS
			}
			is_subject_of_type = tributary_state
			overlord = {
				can_be_overlord = tributary_state #Block when it doesn't make sense.
				overlord_of = ROOT
				OR = {
					NOT = { has_country_flag = factions_meddled_in_tributary }
					had_country_flag = { flag = factions_meddled_in_tributary days = 10950 } #30 years
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		hidden_effect = {
			random_list = {
				33 = { set_country_flag = extra_men }
				33 = { set_country_flag = extra_tradition }
				33 = { set_country_flag = extra_money }
			}
			random_country = {
				limit = {
					is_in_war = {
						defender_leader = ROOT
						attacker_leader = THIS
					}
					is_subject_of_type = tributary_state
					overlord = {
						overlord_of = ROOT
					}
				}
				save_event_target_as = other_tributary_country
			}
		}
	}

	option = {
		name = "tributary_events.27.a" #
		custom_tooltip = tributary_events.27.a.tt
		trigger_switch = {
			on_trigger = has_country_flag
			extra_men = {
				add_yearly_manpower = 1
				clr_country_flag = extra_men
			}
			extra_tradition = {
				add_army_tradition = 20 
				clr_country_flag = extra_tradition
			}
			extra_money = {
				add_years_of_income = 1
				clr_country_flag = extra_money
			}
		}
		overlord = {
			country_event = { id = tributary_events.29 }
			tooltip = {
				add_trust = {
					who = ROOT
					value = -5
					mutual = yes
				}
			}
		}
		event_target:other_tributary_country = {
			country_event = { id = tributary_events.28 }
		}
	}
	option = {
		name = "tributary_events.27.b" #
		hidden_effect = {
			trigger_switch = {
				on_trigger = has_country_flag
				extra_men = {
					clr_country_flag = extra_men
				}
				extra_tradition = {
					clr_country_flag = extra_tradition
				}
				extra_money = {
					clr_country_flag = extra_money
				}
			}
		}
		add_prestige = 10
	}
}

# Overlord supports our enemies!?
country_event = {
	id = tributary_events.28
	title = tributary_events.28.t
	desc = tributary_events.28.d
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = "tributary_events.28.a" #
		overlord = {
			reverse_add_opinion = {
				who = ROOT
				modifier = overlord_supported_our_enemies
			}
		}
	}
}

# Tributary has meddled in our internal politics
country_event = {
	id = tributary_events.29
	title = tributary_events.29.t
	desc = tributary_events.29.d
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_country_flag = factions_meddled_in_tributary
		}
	}
	
	option = {
		name = "tributary_events.29.a" #
		add_trust = {
			who = FROM
			value = -5
			mutual = yes
		}
	}
}

#################################################
#####	Additional Events by Drikus Kuiper 	#####
#################################################

# Military Support for Tributary's War against Rival
country_event = {
	id = tributary_events.30
	title = tributary_events.30.t
	desc = tributary_events.30.d
	picture = CHINESE_GENERAL_eventPicture
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		can_be_overlord = tributary_state #Block when it doesn't make sense.
		any_subject_country = {
			is_subject_of_type = tributary_state
			NOT = { has_country_modifier = overlord_military_mission }
			any_country = {
				is_enemy = ROOT
				defensive_war_with = PREV
			}
		}
		OR = {
			NOT = { has_country_flag = overlord_gave_military_mission }
			had_country_flag = { flag = overlord_gave_military_mission days = 10950 } #30 years
		}
	}

	mean_time_to_happen = {
		months = 300
		modifier = {
			factor = 0.66
			NOT = { is_at_war = yes }
		}
		modifier = {
			factor = 0.5
			any_subject_country = {
				is_subject_of_type = tributary_state
				NOT = { has_country_modifier = overlord_military_mission }
				any_country = {
					is_enemy = ROOT
					defensive_war_with = PREV
				}
				NOT = { manpower = 1 }
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				limit = {
					is_subject_of_type = tributary_state
					NOT = { has_country_modifier = overlord_military_mission }
					any_country = {
						is_enemy = ROOT
						defensive_war_with = PREV
					}
				}
				save_event_target_as = tributary_warring_rival
				random_country = {
					limit = {
						is_enemy = ROOT
						defensive_war_with = PREV
					}
					save_event_target_as = overlord_rival
				}
			}
			set_country_flag = overlord_gave_military_mission
		}
	}

	option = {
		name = "tributary_events.30.a" # Give them all help!
		hidden_effect = {
			event_target:tributary_warring_rival = {
				set_country_flag = overlord_all_the_support
				country_event = { id = tributary_events.31 }
			}
		}
		add_mil_power = -50
		add_yearly_manpower = -1
		add_years_of_income = -0.5
		event_target:tributary_warring_rival = {
			add_opinion = {
				who = ROOT
				modifier = overlord_military_aid
			}
		}
		tooltip = {
			event_target:tributary_warring_rival = {
				add_yearly_manpower = 2
				add_years_of_income = 1
				overlord = {
					add_trust = {
						who = ROOT
						value = 10
						mutual = yes
					}
				}
				add_country_modifier = {
					name = overlord_military_mission
					duration = 7300
				}
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				NOT = {
					manpower = 0.2
					years_of_income = 0.3
				}
			}
			modifier = {
				factor = 0
				num_of_loans = 1
			}
			modifier = {
				factor = 0
				AND = {
					is_at_war = yes
					NOT = { war_score = -15 }
				}
			}
			modifier = {
				factor = 0.5
				is_at_war = yes
			}
			modifier = {
				factor = 0.5
				AND = {
					NOT = { manpower = 0.4 }
					years_of_income = 0.3
				}
			}
			modifier = {
				factor = 2
				AND = {
					manpower = 0.6
					years_of_income = 0.3
				}
			}
			modifier = {
				factor = 2
				AND = {
					manpower = 0.8
					years_of_income = 0.3
				}
			}
			modifier = {
				factor = 1.5
				AND = {
					manpower = 0.6
					years_of_income = 0.5
				}
			}
			modifier = {
				factor = 2
				AND = {
					manpower = 0.8
					years_of_income = 1
				}
			}
		}
	}
	option = {
		name = "tributary_events.30.b" # Give them our troops!
		hidden_effect = {
			event_target:tributary_warring_rival = {
				set_country_flag = overlord_manpower_support
				country_event = { id = tributary_events.31 }
			}
		}
		add_mil_power = -50
		add_yearly_manpower = -1
		event_target:tributary_warring_rival = {
			add_opinion = {
				who = ROOT
				modifier = overlord_military_aid
			}
		}
		tooltip = {
			event_target:tributary_warring_rival = {
				add_yearly_manpower = 2
				overlord = {
					add_trust = {
						who = ROOT
						value = 10
						mutual = yes
					}
				}
				add_country_modifier = {
					name = overlord_military_mission
					duration = 7300
				}
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				NOT = { manpower = 0.2 }
			}
			modifier = {
				factor = 0
				AND = {
					is_at_war = yes
					NOT = { war_score = -15 }
				}
			}
			modifier = {
				factor = 0.5
				is_at_war = yes
			}
			modifier = {
				factor = 0.5
				NOT = { manpower = 0.4 }
			}
			modifier = {
				factor = 2
				AND = {
					manpower = 0.6
					NOT = { years_of_income = 0.3 }
				}
			}
			modifier = {
				factor = 2
				AND = {
					manpower = 0.8
					NOT = { years_of_income = 0.3 }
				}
			}
		}
	}
	option = {
		name = "tributary_events.30.c" # Give them funding!
		hidden_effect = {
			event_target:tributary_warring_rival = {
				set_country_flag = overlord_funding_support
				country_event = { id = tributary_events.31 }
			}
		}
		add_mil_power = -50
		add_years_of_income = -0.5
		event_target:tributary_warring_rival = {
			add_opinion = {
				who = ROOT
				modifier = overlord_military_aid
			}
		}
		tooltip = {
			event_target:tributary_warring_rival = {
				add_years_of_income = 1
				overlord = {
					add_trust = {
						who = ROOT
						value = 10
						mutual = yes
					}
				}
				add_country_modifier = {
					name = overlord_military_mission
					duration = 7300
				}
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				NOT = { years_of_income = 0.3 }
			}
			modifier = {
				factor = 0
				num_of_loans = 1
			}
			modifier = {
				factor = 0
				AND = {
					is_at_war = yes
					NOT = { war_score = -15 }
				}
			}
			modifier = {
				factor = 0.5
				is_at_war = yes
			}
			modifier = {
				factor = 0.5
				NOT = { years_of_income = 0.5 }
			}
			modifier = {
				factor = 2
				years_of_income = 1
			}
		}
	}
	option = {
		name = "tributary_events.30.e" # Give them only a mission.
		hidden_effect = {
			event_target:tributary_warring_rival = {
				set_country_flag = overlord_military_mission
				country_event = { id = tributary_events.31 }
			}
		}
		add_mil_power = -50
		event_target:tributary_warring_rival = {
			add_opinion = {
				who = ROOT
				modifier = overlord_military_aid
			}
		}
		tooltip = {
			event_target:tributary_warring_rival = {
				overlord = {
					add_trust = {
						who = ROOT
						value = 10
						mutual = yes
					}
				}
				add_country_modifier = {
					name = overlord_military_mission
					duration = 7300
				}
			}
		}
		ai_chance = {
			factor = 25
		}
	}
	option = {
		name = "tributary_events.30.f" # Give them nothing
		add_prestige = -5
		ai_chance = {
			factor = 5
		}
	}
}

# Military Support against Overlord's Rival
country_event = {
	id = tributary_events.31
	title = tributary_events.31.t
	desc = {
		trigger = {
			has_country_flag = overlord_military_mission
		}
		desc = "tributary_events.31.d.a"
	}
	desc = {
		trigger = {
			has_country_flag = overlord_funding_support
		}
		desc = "tributary_events.31.d.b"
	}
	desc = {
		trigger = {
			has_country_flag = overlord_manpower_support
		}
		desc = "tributary_events.31.d.c"
	}
	desc = {
		trigger = {
			has_country_flag = overlord_all_the_support
		}
		desc = "tributary_events.31.d.d"
	}
	picture = CHINESE_GENERAL_eventPicture
	
	is_triggered_only = yes

	option = {
		name = "tributary_events.31.a"
		trigger_switch = {
			on_trigger = has_country_flag
			overlord_all_the_support = {
				add_yearly_manpower = 2
				add_years_of_income = 1
				overlord = {
					add_trust = {
						who = ROOT
						value = 10
						mutual = yes
					}
				}
				add_country_modifier = {
					name = overlord_military_mission
					duration = 7300
				}
				clr_country_flag = overlord_all_the_support
			}
			overlord_manpower_support = {
				add_yearly_manpower = 2
				overlord = {
					add_trust = {
						who = ROOT
						value = 10
						mutual = yes
					}
				}
				add_country_modifier = {
					name = overlord_military_mission
					duration = 7300
				}
				clr_country_flag = overlord_manpower_support
			}
			overlord_funding_support = {
				add_years_of_income = 1
				overlord = {
					add_trust = {
						who = ROOT
						value = 10
						mutual = yes
					}
				}
				add_country_modifier = {
					name = overlord_military_mission
					duration = 7300
				}
				clr_country_flag = overlord_funding_support
			}
			overlord_military_mission = {
				overlord = {
					add_trust = {
						who = ROOT
						value = 10
						mutual = yes
					}
				}
				add_country_modifier = {
					name = overlord_military_mission
					duration = 7300
				}
				clr_country_flag = overlord_military_mission
			}
		}
		add_opinion = {
			who = FROM
			modifier = overlord_military_aid
		}
	}
}

# Cancellation of Military Support against Overlord's Rival
country_event = {
	id = tributary_events.32
	title = tributary_events.32.t
	desc = tributary_events.32.d
	picture = IMPERIAL_SEAL_eventPicture
	
	is_triggered_only = yes

	trigger = {
		has_country_modifier = overlord_military_mission
		overlord = {
			NOT = {
				any_rival_country = {
					defensive_war_with = ROOT
				}
			}
		}
	}

	option = {
		name = "tributary_events.32.a"
		remove_country_modifier = overlord_military_mission
	}
}