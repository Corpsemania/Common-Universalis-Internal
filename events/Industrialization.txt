########################################
# Events for Industrializing countries
#
# written by Henrik Lohmander
########################################

namespace = industrialization_events
normal_or_historical_nations = yes

# Requirements for industrialization locally vary but always include:
# No devastation.
# industrial_revolution at 100% in the province.
# In a state
# Land connection to capital or same continent as capital.
# (These and any future local triggers will always be in the scripted trigger "province_viable_for_industrialization_events_trigger")

#Province flags for keeping track of boosts: (All of these except the first two can be checked via scripted triggers: industrialized_province_trigger or unindustrialized_province_trigger)
#canals_and_turnpikes_flag (given to owned area)
#agricultural_revolution_province (given to owned area)
#had_economic_urbanization (given to owned area)
#swapped_to_cloth
#swapped_to_paper
#swapped_to_glass
#industrial_urbanization
#metalwork_center
#textile_center
#shipyards_of_x

#Inventions
#6 in total (country flags):
#atmospheric_engine_flag
#coke_blast_furnaces_flag
#watt_steam_engine_flag
#rotherham_plough_flag
#flying_shuttle_flag
#spinning_jenny_flag

#The Atmospheric Engine
country_event = {
	id = industrialization_events.1
	title = "industrialization_events.1.t"
	desc = "industrialization_events.1.d"
	picture = ATMOSPHERIC_ENGINE_eventPicture
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		NOT = { has_country_flag = atmospheric_engine_flag } #Newcomen Engine
		innovativeness = 15
		any_owned_province = {
			cu_not_terr_trigger = yes
			is_in_capital_area = yes
			#industrial_revolution = 100
			OR = {
				trade_goods = iron
				trade_goods = coal
				trade_goods = copper
				has_latent_trade_goods = coal
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = atmospheric_engine_flag
			random_owned_province = {
				limit = {
					cu_not_terr_trigger = yes
					is_in_capital_area = yes
					#industrial_revolution = 100
					OR = {
						trade_goods = iron
						trade_goods = coal
						trade_goods = copper
						has_latent_trade_goods = coal
					}
				}
				save_event_target_as = invention_province
			}
		}
	}
	
	mean_time_to_happen = {
		months = 60
	}
	
	option = {
		name = "industrialization_events.1.a"
		custom_tooltip = industrialization_events.1.a.tt
		event_target:invention_province = {
			add_base_production = 1
			add_province_modifier = {
				name = "introduction_of_newcommen_engine"
				duration = 3650
			}
			add_institution_embracement = {
				which = industrial_revolution
				value = 20
			}
		}
	}
}

#Coke Blast Furnaces
country_event = {
	id = industrialization_events.2
	title = "industrialization_events.2.t"
	picture = URBANIZATION_eventPicture
	
	desc = {
		trigger = {
			NOT = { tag = GBR }
			NOT = { tag = ENG }
		}
		desc = industrialization_events.2.d
	}
	desc = {
		trigger = {
			OR = {
				tag = GBR
				tag = ENG
			}
		}
		desc = industrialization_events.2.d.england
	}
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		NOT = { has_country_flag = coke_blast_furnaces_flag }
		innovativeness = 20
		any_owned_province = {
			cu_not_terr_trigger = yes
			is_in_capital_area = yes
			#industrial_revolution = 100
			OR = {
				trade_goods = iron
				trade_goods = coal
				trade_goods = copper
				has_latent_trade_goods = coal
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = coke_blast_furnaces_flag
			set_saved_name = {
				key = inventor_name
				type = advisor
				scope = ROOT
			}
			random_owned_province = {
				limit = {
					cu_not_terr_trigger = yes
					is_in_capital_area = yes
					#industrial_revolution = 100
					OR = {
						trade_goods = iron
						trade_goods = coal
						trade_goods = copper
						has_latent_trade_goods = coal
					}
				}
				save_event_target_as = invention_province
			}
		}
	}
	
	mean_time_to_happen = {
		months = 60
	}
	
	option = {
		name = "industrialization_events.2.a"
		custom_tooltip = industrialization_events.2.a.tt
		if = {
			limit = {
				OR = {
					tag = ENG
					tag = GBR
				}
				owns = 240
			}
			240 = {
				add_base_production = 1
				add_province_modifier = {
					name = introduction_of_coke_blast_furnaces
					duration = 3650
				}
				add_institution_embracement = {
					which = industrial_revolution
					value = 25
				}
			}
		}
		else = {
			event_target:invention_province = {
				add_base_production = 1
				add_province_modifier = {
					name = introduction_of_coke_blast_furnaces
					duration = 3650
				}
				add_institution_embracement = {
					which = industrial_revolution
					value = 20
				}
			}
		}
	}
	after = {
		clear_saved_name = inventor_name
	}
}

#Watt Steam Engine
country_event = {
	id = industrialization_events.3
	title = "industrialization_events.3.t"
	picture = ATMOSPHERIC_ENGINE_eventPicture
	
	desc = {
		trigger = {
			NOT = { tag = GBR }
			NOT = { tag = ENG }
		}
		desc = industrialization_events.3.d
	}
	desc = {
		trigger = {
			OR = {
				tag = GBR
				tag = ENG
			}
		}
		desc = industrialization_events.3.d.england
	}
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		has_country_flag = atmospheric_engine_flag
		NOT = { has_country_flag = watt_steam_engine_flag }
		innovativeness = 20
		any_owned_province = {
			cu_not_terr_trigger = yes
			is_in_capital_area = yes
			#industrial_revolution = 100
			OR = {
				trade_goods = iron
				trade_goods = coal
				trade_goods = copper
				has_latent_trade_goods = coal
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = watt_steam_engine_flag
			set_saved_name = {
				key = inventor_name
				type = advisor
				scope = ROOT
			}
			random_owned_province = {
				limit = {
					cu_not_terr_trigger = yes
					is_in_capital_area = yes
					#industrial_revolution = 100
					OR = {
						trade_goods = iron
						trade_goods = coal
						trade_goods = copper
						has_latent_trade_goods = coal
					}
				}
				save_event_target_as = invention_province
			}
		}
	}
	
	mean_time_to_happen = {
		months = 60
	}
	
	option = {
		name = "industrialization_events.3.a"
		custom_tooltip = industrialization_events.3.a.tt
		event_target:invention_province = {
			add_base_production = 1
			add_province_modifier = {
				name = introduction_of_watt_engine
				duration = 3650
			}
			add_institution_embracement = {
				which = industrial_revolution
				value = 20
			}
		}
	}
	after = {
		clear_saved_name = inventor_name
	}
}

#Rotherham Plough
country_event = {
	id = industrialization_events.4
	title = "industrialization_events.4.t"
	desc = "industrialization_events.4.d"
	picture = INDUSTRIALIZATION_eventPicture
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		NOT = { has_country_flag = rotherham_plough_flag }
		innovativeness = 15
		any_owned_province = {
			cu_not_terr_trigger = yes
			is_in_capital_area = yes
			#industrial_revolution = 100
			OR = {
				trade_goods = grain
				trade_goods = livestock
				has_terrain = farmlands
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = rotherham_plough_flag
			set_saved_name = {
				key = inventor_name
				type = advisor
				scope = ROOT
			}
			random_owned_province = {
				limit = {
					cu_not_terr_trigger = yes
					is_in_capital_area = yes
					#industrial_revolution = 100
					OR = {
						trade_goods = grain
						trade_goods = livestock
						has_terrain = farmlands
					}
				}
				save_event_target_as = invention_province
			}
		}
	}
	
	mean_time_to_happen = {
		months = 60
	}
	
	option = {
		name = "industrialization_events.4.a"
		custom_tooltip = industrialization_events.4.a.tt
		event_target:invention_province = {
			add_base_production = 1
			add_province_modifier = {
				name = introduction_of_rotherham_plough
				duration = 3650
			}
			add_institution_embracement = {
				which = industrial_revolution
				value = 20
			}
		}
	}
	after = {
		clear_saved_name = inventor_name
	}
}

#Flying Shuttle
country_event = {
	id = industrialization_events.5
	title = "industrialization_events.5.t"
	desc = "industrialization_events.5.d"
	picture = TEXTILE_INDUSTRY_eventPicture
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		NOT = { has_country_flag = flying_shuttle_flag }
		innovativeness = 20
		any_owned_province = {
			cu_not_terr_trigger = yes
			is_in_capital_area = yes
			#industrial_revolution = 100
			OR = {
				trade_goods = cloth
				trade_goods = wool
				trade_goods = cotton
				trade_goods = silk
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = flying_shuttle_flag
			random_owned_province = {
				limit = {
					cu_not_terr_trigger = yes
					is_in_capital_area = yes
					#industrial_revolution = 100
					OR = {
						trade_goods = cloth
						trade_goods = wool
						trade_goods = cotton
						trade_goods = silk
					}
				}
				save_event_target_as = invention_province
			}
			set_saved_name = {
				key = inventor_name
				type = advisor
				scope = ROOT
			}
		}
	}
	
	mean_time_to_happen = {
		months = 60
	}
	
	option = {
		name = "industrialization_events.5.a"
		custom_tooltip = industrialization_events.5.a.tt
		event_target:invention_province = {
			add_base_production = 1
			add_province_modifier = {
				name = introduction_of_flying_shuttle
				duration = 3650
			}
			add_institution_embracement = {
				which = industrial_revolution
				value = 20
			}
		}
	}
	after = {
		clear_saved_name = inventor_name
	}
}

#Spinning Jenny
country_event = {
	id = industrialization_events.6
	title = "industrialization_events.6.t"
	desc = "industrialization_events.6.d"
	picture = TEXTILE_INDUSTRY_eventPicture
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		has_country_flag = flying_shuttle_flag
		NOT = { has_country_flag = spinning_jenny_flag }
		innovativeness = 20
		any_owned_province = {
			cu_not_terr_trigger = yes
			is_in_capital_area = yes
			#industrial_revolution = 100
			OR = {
				trade_goods = cloth
				trade_goods = wool
				trade_goods = cotton
				trade_goods = silk
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = spinning_jenny_flag
			random_owned_province = {
				limit = {
					cu_not_terr_trigger = yes
					is_in_capital_area = yes
					#industrial_revolution = 100
					OR = {
						trade_goods = cloth
						trade_goods = wool
						trade_goods = cotton
						trade_goods = silk
					}
				}
				save_event_target_as = invention_province
			}
			set_saved_name = {
				key = inventor_name
				type = advisor
				scope = ROOT
			}
		}
	}
	
	mean_time_to_happen = {
		months = 60
	}
	
	option = {
		name = "industrialization_events.6.a"
		custom_tooltip = industrialization_events.6.a.tt
		event_target:invention_province = {
			add_base_production = 1
			add_province_modifier = {
				name = introduction_of_spinning_jenny
				duration = 3650
			}
			add_institution_embracement = {
				which = industrial_revolution
				value = 20
			}
		}
	}
	after = {
		clear_saved_name = inventor_name
	}
}

# Early spread of Industrialization
# Events that boost development in provinces once you have the correct inventions.
# Become more and more uncommon the more provinces they have modified in your country.

#Canals and Turnpikes
country_event = {
	id = industrialization_events.7
	title = "industrialization_events.7.t"
	desc = "industrialization_events.7.d"
	picture = LARGE_SHIPYARD_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		OR = {
			has_country_flag = flying_shuttle_flag
			has_country_flag = coke_blast_furnaces_flag
			has_country_flag = atmospheric_engine_flag
			has_country_flag = rotherham_plough_flag
		}
		OR = {
			AND = {
				has_country_flag = flying_shuttle_flag
				any_owned_province = {
					NOT = { has_province_flag = canals_and_turnpikes_flag }
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						trade_goods = cloth
						trade_goods = wool
						trade_goods = cotton
						trade_goods = silk
					}
				}
			}
			AND = {
				has_country_flag = atmospheric_engine_flag
				any_owned_province = {
					NOT = { has_province_flag = canals_and_turnpikes_flag }
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						has_latent_trade_goods = coal
						trade_goods = iron
						trade_goods = coal
						trade_goods = copper
					}
				}
			}
			AND = {
				has_country_flag = coke_blast_furnaces_flag
				any_owned_province = {
					NOT = { has_province_flag = canals_and_turnpikes_flag }
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						has_latent_trade_goods = coal
						trade_goods = coal
						trade_goods = iron
					}
				}
			}
			AND = {
				has_country_flag = rotherham_plough_flag
				any_owned_province = {
					NOT = { has_province_flag = canals_and_turnpikes_flag }
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						trade_goods = grain
						trade_goods = livestock
						has_terrain = farmlands
					}
				}
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					OR = {
						AND = {
							owner = { has_country_flag = flying_shuttle_flag }
							NOT = { has_province_flag = canals_and_turnpikes_flag }
							province_viable_for_industrialization_events_trigger = yes
							OR = {
								trade_goods = cloth
								trade_goods = wool
								trade_goods = cotton
								trade_goods = silk
							}
						}
						AND = {
							owner = { has_country_flag = atmospheric_engine_flag }
							NOT = { has_province_flag = canals_and_turnpikes_flag }
							province_viable_for_industrialization_events_trigger = yes
							OR = {
								has_latent_trade_goods = coal
								trade_goods = iron
								trade_goods = coal
								trade_goods = copper
							}
						}
						AND = {
							owner = { has_country_flag = coke_blast_furnaces_flag }
							NOT = { has_province_flag = canals_and_turnpikes_flag }
							province_viable_for_industrialization_events_trigger = yes
							OR = {
								has_latent_trade_goods = coal
								trade_goods = coal
								trade_goods = iron
							}
						}
						AND = {
							owner = { has_country_flag = rotherham_plough_flag }
							NOT = { has_province_flag = canals_and_turnpikes_flag }
							province_viable_for_industrialization_events_trigger = yes
							OR = {
								trade_goods = grain
								trade_goods = livestock
								has_terrain = farmlands
							}
						}
					}
				}
				save_event_target_as = industrial_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 3
			}
		}
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 6
			}
		}
		modifier = {
			factor = 1.25
			any_owned_province = {
				has_latent_trade_goods = coal
			}
		}
		modifier = {
			factor = 1.5
			NOT = {
				any_owned_province = {
					has_province_flag = canals_and_turnpikes_flag
				}
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = canals_and_turnpikes_flag
				value = 15
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = canals_and_turnpikes_flag
				value = 20
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = canals_and_turnpikes_flag
				value = 25
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = canals_and_turnpikes_flag
				value = 30
			}
		}
	}
	
	option = {
		name = "industrialization_events.7.a"
		add_years_of_income = -0.35
		event_target:industrial_province = {
			add_base_production = 1
			add_base_tax = 1
			area = {
				limit = { owned_by = ROOT }
				add_province_modifier = {
					name = "canals_and_turnpikes"
					duration = 5475
				}
				add_institution_embracement = {
					which = industrial_revolution
					value = 10
				}
				set_province_flag = canals_and_turnpikes_flag
			}
		}
	}
	option = {
		name = "industrialization_events.7.b"
		event_target:industrial_province = {
			add_base_production = 1
			area = {
				limit = { owned_by = ROOT }
				add_province_modifier = {
					name = "canals_and_turnpikes"
					duration = 3650
				}
				add_institution_embracement = {
					which = industrial_revolution
					value = 10
				}
				set_province_flag = canals_and_turnpikes_flag
			}
		}
	}
}

#Seeds of Greatness
country_event = {
	id = industrialization_events.8
	title = "industrialization_events.8.t"
	desc = "industrialization_events.8.d"
	picture = INDUSTRIALIZATION_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		innovativeness = 25
		any_owned_province = {
			NOT = { has_province_flag = agricultural_revolution_province }
			NOT = { has_province_modifier = agricultural_revolution }
			province_viable_for_industrialization_events_trigger = yes
			OR = {
				trade_goods = grain
				trade_goods = livestock
				has_terrain = farmlands
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					NOT = { has_province_flag = agricultural_revolution_province }
					NOT = { has_province_modifier = agricultural_revolution }
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						trade_goods = grain
						trade_goods = livestock
						has_terrain = farmlands
					}
				}
				save_event_target_as = agricultural_province
			}
			random_owned_province = {
				limit = {
					NOT = { has_province_flag = agricultural_revolution_province }
					NOT = { has_province_modifier = agricultural_revolution }
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						trade_goods = grain
						trade_goods = livestock
						has_terrain = farmlands
					}
					has_latent_trade_goods = coal
				}
				save_event_target_as = agricultural_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			has_country_flag = rotherham_plough_flag

		}
		modifier = {
			factor = 1.25
			any_owned_province = {
				has_latent_trade_goods = coal
				NOT = { trade_goods = coal }
			}
		}
		modifier = {
			factor = 1.5
			NOT = {
				any_owned_province = {
					has_province_flag = agricultural_revolution_province
				}
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = agricultural_revolution_province
				value = 15
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = agricultural_revolution_province
				value = 20
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = agricultural_revolution_province
				value = 25
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = agricultural_revolution_province
				value = 30
			}
		}
	}
	
	option = {
		name = "industrialization_events.8.a"
		event_target:agricultural_province = {
			add_base_production = 1
			add_base_tax = 1
			area = {
				limit = {
					owned_by = ROOT
					NOT = { has_province_flag = agricultural_revolution_province }
				}
				add_province_modifier = {
					name = "agricultural_revolution"
					duration = 3650
				}
				add_institution_embracement = {
					which = industrial_revolution
					value = 10
				}
				set_province_flag = agricultural_revolution_province
			}
		}
	}
}

#Economic Development
country_event = {
	id = industrialization_events.9
	title = "industrialization_events.9.t"
	desc = "industrialization_events.9.d"
	picture = URBANIZATION_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		OR = {
			has_country_flag = flying_shuttle_flag
			has_country_flag = coke_blast_furnaces_flag
			has_country_flag = atmospheric_engine_flag
			has_country_flag = rotherham_plough_flag
		}
		OR = {
			AND = {
				has_country_flag = flying_shuttle_flag
				any_owned_province = {
					NOT = { has_province_modifier = economic_urbanization_modifier }
					NOT = { has_province_flag = had_economic_urbanization }
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						trade_goods = cloth
						trade_goods = wool
						trade_goods = cotton
						trade_goods = silk
					}
				}
			}
			AND = {
				has_country_flag = atmospheric_engine_flag
				any_owned_province = {
					NOT = { has_province_modifier = economic_urbanization_modifier }
					NOT = { has_province_flag = had_economic_urbanization }
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						has_latent_trade_goods = coal
						trade_goods = iron
						trade_goods = coal
						trade_goods = copper
					}
				}
			}
			AND = {
				has_country_flag = coke_blast_furnaces_flag
				any_owned_province = {
					NOT = { has_province_modifier = economic_urbanization_modifier }
					NOT = { has_province_flag = had_economic_urbanization }
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						has_latent_trade_goods = coal
						trade_goods = coal
						trade_goods = iron
						trade_goods = naval_supplies
					}
				}
			}
			AND = {
				has_country_flag = rotherham_plough_flag
				any_owned_province = {
					NOT = { has_province_modifier = economic_urbanization_modifier }
					NOT = { has_province_flag = had_economic_urbanization }
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						trade_goods = grain
						trade_goods = livestock
						has_terrain = farmlands
					}
				}
			}
		}
	}
	
	immediate = { #industrialization_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					OR = {
						AND = {
							owner = { has_country_flag = flying_shuttle_flag }
							NOT = { has_province_modifier = economic_urbanization_modifier }
							NOT = { has_province_flag = had_economic_urbanization }
							province_viable_for_industrialization_events_trigger = yes
							OR = {
								trade_goods = cloth
								trade_goods = wool
								trade_goods = cotton
								trade_goods = silk
							}
						}
						AND = {
							owner = { has_country_flag = atmospheric_engine_flag }
							NOT = { has_province_modifier = economic_urbanization_modifier }
							NOT = { has_province_flag = had_economic_urbanization }
							province_viable_for_industrialization_events_trigger = yes
							OR = {
								has_latent_trade_goods = coal
								trade_goods = iron
								trade_goods = coal
								trade_goods = copper
							}
						}
						AND = {
							owner = { has_country_flag = coke_blast_furnaces_flag }
							NOT = { has_province_modifier = economic_urbanization_modifier }
							NOT = { has_province_flag = had_economic_urbanization }
							province_viable_for_industrialization_events_trigger = yes
							OR = {
								has_latent_trade_goods = coal
								trade_goods = coal
								trade_goods = iron
								trade_goods = naval_supplies
							}
						}
						AND = {
							owner = { has_country_flag = rotherham_plough_flag }
							NOT = { has_province_modifier = economic_urbanization_modifier }
							NOT = { has_province_flag = had_economic_urbanization }
							province_viable_for_industrialization_events_trigger = yes
							OR = {
								trade_goods = grain
								trade_goods = livestock
								has_terrain = farmlands
							}
						}
						AND = {
							owner = { has_country_flag = rotherham_plough_flag }
							NOT = { has_province_modifier = economic_urbanization_modifier }
							NOT = { has_province_flag = had_economic_urbanization }
							province_viable_for_industrialization_events_trigger = yes
							OR = {
								is_in_capital_area = yes
								continent = CAPITAL
							}
						}
					}
				}
				save_event_target_as = industrialization_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 3
			}
		}
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 6
			}
		}
		modifier = {
			factor = 1.25
			any_owned_province = {
				has_latent_trade_goods = coal
			}
		}
		modifier = {
			factor = 1.5
			NOT = {
				any_owned_province = {
					has_province_flag = had_economic_urbanization
				}
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = had_economic_urbanization
				value = 15
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = had_economic_urbanization
				value = 20
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = had_economic_urbanization
				value = 25
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = had_economic_urbanization
				value = 30
			}
		}
	}
	
	option = {
		name = "industrialization_events.9.a"
		event_target:industrialization_province = {
			add_base_production = 1
			add_base_tax = 1
			area = {
				limit = {
					owned_by = ROOT
					NOT = { has_province_flag = had_economic_urbanization }
				}
				add_province_modifier = {
					name = "economic_urbanization_modifier"
					duration = 3650
				}
				add_institution_embracement = {
					which = industrial_revolution
					value = 10
				}
				set_province_flag = had_economic_urbanization
			}
		}
		random_owned_province = {
			limit = {
				unindustrialized_province_trigger = yes
				base_manpower = 3
			}
			add_base_manpower = -2
		}
	}
}

# Trade Good Changes in Industrialized Provinces
# Swaps less advanced trade good to a more advanced one.
# Sharply decreasing chance to trigger dependent on how many provinces it has happened to.

#Growth of the [industrialization_province.GetName] Textile Industry
country_event = {
	id = industrialization_events.10
	title = "industrialization_events.10.t"
	desc = "industrialization_events.10.d"
	picture = TEXTILE_INDUSTRY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		OR = {
			has_country_flag = flying_shuttle_flag
			has_country_flag = spinning_jenny_flag
		}
		any_owned_province = {
			province_viable_for_industrialization_events_trigger = yes
			OR = {
				trade_goods = wool
				trade_goods = cotton
			}
			NOT = { has_latent_trade_goods = coal }
			province_without_special_goods_produced_trigger = yes
			has_building = textile
			base_manpower = 2
			industrial_revolution = 100
		}
	}
	
	immediate = { #industrialization_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						trade_goods = wool
						trade_goods = cotton
					}
					NOT = { has_latent_trade_goods = coal }
					has_building = textile
					base_manpower = 2
				}
				save_event_target_as = industrialization_province
			}
			random_province = {
				limit = {
					trade_goods = cloth
					has_discovered = ROOT
				}
				save_event_target_as = old_cloth_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			has_country_flag = spinning_jenny_flag
		}
		modifier = {
			factor = 2
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				amount = 2
			}
		}
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				amount = 4
			}
		}
		modifier = {
			factor = 1.5
			NOT = {
				any_owned_province = {
					has_province_flag = swapped_to_cloth
				}
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_cloth
				value = 3
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_cloth
				value = 5
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_cloth
				value = 8
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_cloth
				value = 10
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_cloth
				value = 12
			}
		}
	}
	
	option = {
		name = "industrialization_events.10.a"
		event_target:industrialization_province = {
			change_trade_goods = cloth
			add_base_manpower = -1
			set_province_flag = swapped_to_cloth
		}
	}
}

#Growth of the [industrialization_province.GetName] Paper Industry
country_event = {
	id = industrialization_events.11
	title = "industrialization_events.11.t"
	desc = "industrialization_events.11.d"
	picture = PRINTING_PRESS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		has_country_flag = atmospheric_engine_flag
		any_owned_province = {
			province_viable_for_industrialization_events_trigger = yes
			OR = {
				trade_goods = cotton #Lump
				trade_goods = naval_supplies #Hemp
				trade_goods = wool #Lump
			}
			OR = {
				has_building = workshop
				has_building = counting_house
			}
			province_without_special_goods_produced_trigger = yes
			base_manpower = 2
			NOT = { has_latent_trade_goods = coal }
			industrial_revolution = 100
		}
	}
	
	immediate = { #industrialization_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					industrial_revolution = 100
					cu_not_terr_trigger = yes
					OR = {
						trade_goods = cotton #Lump
						trade_goods = naval_supplies #Hemp
						trade_goods = wool #Lump
					}
					OR = {
						has_building = workshop
						has_building = counting_house
					}
					province_without_special_goods_produced_trigger = yes
					base_manpower = 2
					NOT = { has_latent_trade_goods = coal }
				}
				save_event_target_as = industrialization_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				amount = 2
			}
		}
		modifier = {
			factor = 1.25
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				amount = 3
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_paper
				value = 3
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_paper
				value = 1
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_paper
				value = 2
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_paper
				value = 3
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_paper
				value = 5
			}
		}
	}
	
	option = {
		name = "industrialization_events.11.a"
		event_target:industrialization_province = {
			change_trade_goods = paper
			add_base_manpower = -1
			set_province_flag = swapped_to_paper
		}
	}
}


#Growth of the [glass_province.GetName] Glass Industry
country_event = {
	id = industrialization_events.12
	title = "industrialization_events.12.t"
	desc = "industrialization_events.12.d"
	picture = URBANIZATION_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		is_institution_enabled = industrial_revolution
		has_country_flag = atmospheric_engine_flag
		has_global_flag = lead_crystal_happened
		any_owned_province = {
			province_viable_for_industrialization_events_trigger = yes
			base_manpower = 2
			OR = {
				has_building = workshop
				has_building = counting_house
			}
			OR = {
				trade_goods = cotton
				trade_goods = naval_supplies
				trade_goods = wool
			}
			NOT = { has_latent_trade_goods = coal }
			province_without_special_goods_produced_trigger = yes
			industrial_revolution = 100
		}
	}
	
	immediate = { #glass_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					province_viable_for_industrialization_events_trigger = yes
					base_manpower = 2
					OR = {
						trade_goods = cotton #Lump
						trade_goods = naval_supplies #Hemp
						trade_goods = wool #Lump
					}
					OR = {
						has_building = workshop
						has_building = counting_house
					}
					NOT = { has_latent_trade_goods = coal }
					province_without_special_goods_produced_trigger = yes
				}
				save_event_target_as = glass_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 2
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				amount = 2
			}
		}
		modifier = {
			factor = 1.25
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				amount = 3
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_glass
				value = 3
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_glass
				value = 1
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_glass
				value = 2
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_glass
				value = 3
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = swapped_to_glass
				value = 4
			}
		}
	}
	
	option = {
		name = "industrialization_events.12.a"
		event_target:glass_province = {
			change_trade_goods = glass
			add_base_manpower = -1
			set_province_flag = swapped_to_glass
		}
	}
}

# Benefits of Industrialization (ie once you have Coal)
# Nice province modifiers in provinces that have the infrastructure (or coal).

#Industrial Urbanization
country_event = {
	id = industrialization_events.13
	title = "industrialization_events.13.t"
	desc = "industrialization_events.13.d"
	picture = URBANIZATION_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		has_institution = industrial_revolution
		OR = {
			coal = 1
			trading_part = {
				trade_goods = coal
				value = 0.06
			}
		}
		any_owned_province = {
			province_viable_for_industrialization_events_trigger = yes
			OR = {
				has_building = wharf
				has_building = weapons
				has_building = textile
				has_building = mills
				has_building = workshop
				has_building = counting_house
				has_building = grand_shipyard
				trade_goods = coal
				any_neighbor_province = {
					owned_by = ROOT
					trade_goods = coal
				}
			}
			NOT = { has_province_flag = industrial_urbanization }
		}
		any_owned_province = {
			unindustrialized_province_trigger = yes
			base_tax = 2
			base_manpower = 2
		}
	}
	
	immediate = { #urbanization_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					province_viable_for_industrialization_events_trigger = yes
					OR = {
						has_building = wharf
						has_building = weapons
						has_building = textile
						has_building = mills
						has_building = furnace
						has_building = workshop
						has_building = counting_house
						has_building = grand_shipyard
					}
					NOT = { has_province_flag = industrial_urbanization }
				}
				set_province_flag = industrial_urbanization
				save_event_target_as = urbanization_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 3
			}
		}
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 6
			}
		}
		modifier = {
			factor = 1.25
			coal = 3
			NOT = { furnace = 3 }
		}
		modifier = {
			factor = 1.5
			furnace = 3
		}
		modifier = {
			factor = 1.25
			coal = 5
			NOT = { furnace = 5 }
		}
		modifier = {
			factor = 1.5
			furnace = 5
		}
		modifier = {
			factor = 1.5
			NOT = {
				any_owned_province = {
					has_province_flag = industrial_urbanization
				}
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = industrial_urbanization
				value = 8
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = industrial_urbanization
				value = 12
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = industrial_urbanization
				value = 13
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = industrial_urbanization
				value = 15
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = industrial_urbanization
				value = 18
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = industrial_urbanization
				value = 20
			}
		}
	}
	
	option = {
		name = "industrialization_events.13.a"
		event_target:urbanization_province = {
			add_base_production = 1
			add_base_tax = 1
			add_province_modifier = {
				name = "industrial_urbanization_modifier"
				duration = 3650
			}
		}
		random_owned_province = {
			limit = {
				unindustrialized_province_trigger = yes
				base_tax = 2
				base_manpower = 2
			}
			add_base_manpower = -1
			add_base_tax = -1
		}
	}
}

#The [iron_province.GetName] Metalworks.
country_event = {
	id = industrialization_events.14
	title = "industrialization_events.14.t"
	desc = "industrialization_events.14.d"
	picture = URBANIZATION_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		has_institution = industrial_revolution
		OR = {
			coal = 1
			trading_part = {
				trade_goods = coal
				value = 0.06
			}
		}
		iron = 1
		any_owned_province = {
			province_viable_for_industrialization_events_trigger = yes
			industrialized_province_trigger = yes
			OR = {
				trade_goods = iron
				trade_goods = copper
			}
			OR = {
				has_building = weapons
				has_building = counting_house
				any_neighbor_province = {
					owned_by = ROOT
					trade_goods = coal
				}
			}
			NOT = { has_province_flag = metalwork_center }
		}
		any_owned_province = { #Workers from here
			unindustrialized_province_trigger = yes
			base_tax = 2
			base_manpower = 2
		}
	}
	
	immediate = { #iron_province (not necessarily Iron)
		hidden_effect = {
			random_owned_province = {
				limit = {
					province_viable_for_industrialization_events_trigger = yes
					industrialized_province_trigger = yes
					OR = {
						trade_goods = iron
						trade_goods = copper
					}
					OR = {
						has_building = weapons
						has_building = counting_house
						any_neighbor_province = {
							owned_by = ROOT
							trade_goods = coal
						}
					}
					NOT = { has_province_flag = metalwork_center }
				}
				set_province_flag = metalwork_center
				save_event_target_as = iron_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				amount = 2
			}
		}
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				amount = 3
			}
		}
		modifier = {
			factor = 1.25
			coal = 3
			NOT = { furnace = 3 }
		}
		modifier = {
			factor = 1.5
			furnace = 3
		}
		modifier = {
			factor = 1.25
			coal = 5
			NOT = { furnace = 5 }
		}
		modifier = {
			factor = 1.5
			furnace = 5
		}
		modifier = {
			factor = 1.5
			NOT = {
				any_owned_province = {
					has_province_flag = metalwork_center
				}
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = metalwork_center
				value = 4
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = metalwork_center
				value = 6
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = metalwork_center
				value = 8
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = metalwork_center
				value = 10
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = metalwork_center
				value = 12
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = metalwork_center
				value = 14
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = metalwork_center
				value = 15
			}
		}
	}
	
	option = {
		name = "industrialization_events.14.a"
		event_target:iron_province = {
			add_base_production = 2
			add_province_modifier = {
				name = "metalworks_modifier"
				duration = 7300
			}
		}
		random_owned_province = {
			limit = {
				unindustrialized_province_trigger = yes
				base_tax = 2
				base_manpower = 2
			}
			add_base_manpower = -1
			add_base_tax = -1
		}
	}
}

#Textile Mills of [textile_province.GetName].
country_event = {
	id = industrialization_events.15
	title = "industrialization_events.15.t"
	desc = "industrialization_events.15.d"
	picture = TEXTILE_INDUSTRY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		has_institution = industrial_revolution
		OR = {
			coal = 1
			trading_part = {
				trade_goods = coal
				value = 0.06
			}
		}
		OR = {
			cloth = 1
			silk = 1
		}
		any_owned_province = {
			province_viable_for_industrialization_events_trigger = yes
			industrialized_province_trigger = yes
			OR = {
				trade_goods = cloth
				trade_goods = silk
			}
			OR = {
				has_building = textile
				has_building = counting_house
				any_neighbor_province = {
					owned_by = ROOT
					trade_goods = coal
				}
			}
			NOT = { has_province_flag = textile_center }
		}
		any_owned_province = { #Workers from here
			unindustrialized_province_trigger = yes
			base_tax = 2
			base_manpower = 2
		}
	}
	
	immediate = { #textile_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					province_viable_for_industrialization_events_trigger = yes
					industrialized_province_trigger = yes
					OR = {
						trade_goods = cloth
						trade_goods = silk
					}
					OR = {
						has_building = textile
						has_building = counting_house
						any_neighbor_province = {
							owned_by = ROOT
							trade_goods = coal
						}
					}
					NOT = { has_province_flag = textile_center }
				}
				set_province_flag = textile_center
				save_event_target_as = textile_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 2
			}
		}
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 4
			}
		}
		modifier = {
			factor = 1.25
			coal = 3
			NOT = { furnace = 3 }
		}
		modifier = {
			factor = 1.5
			furnace = 3
		}
		modifier = {
			factor = 1.25
			coal = 5
			NOT = { furnace = 5 }
		}
		modifier = {
			factor = 1.5
			furnace = 5
		}
		modifier = {
			factor = 1.5
			NOT = {
				any_owned_province = {
					has_province_flag = textile_center
				}
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = textile_center
				value = 4
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = textile_center
				value = 5
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = textile_center
				value = 7
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = textile_center
				value = 9
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = textile_center
				value = 11
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = textile_center
				value = 13
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = textile_center
				value = 15
			}
		}
	}
	
	option = {
		name = "industrialization_events.15.a"
		event_target:textile_province = {
			add_base_production = 2
			add_province_modifier = {
				name = "textile_mills_modifier"
				duration = 7300
			}
		}
		random_owned_province = {
			limit = {
				unindustrialized_province_trigger = yes
				base_tax = 2
				base_manpower = 2
			}
			add_base_manpower = -1
			add_base_tax = -1
		}
	}
}

#Shipyards of [ship_province.GetName].
country_event = {
	id = industrialization_events.16
	title = "industrialization_events.16.t"
	desc = "industrialization_events.16.d"
	picture = LARGE_SHIPYARD_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		has_institution = industrial_revolution
		OR = {
			coal = 1
			trading_part = {
				trade_goods = coal
				value = 0.06
			}
		}
		any_owned_province = {
			province_viable_for_industrialization_events_trigger = yes
			industrialized_province_trigger = yes
			trade_goods = naval_supplies
			OR = {
				has_building = wharf
				has_building = counting_house
				any_neighbor_province = {
					owned_by = ROOT
					trade_goods = coal
				}
			}
			NOT = { has_province_flag = shipyards_of_x }
		}
		any_owned_province = { #Workers from here
			unindustrialized_province_trigger = yes
			base_tax = 2
			base_manpower = 2
		}
	}
	
	immediate = { #ship_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					province_viable_for_industrialization_events_trigger = yes
					industrialized_province_trigger = yes
					trade_goods = naval_supplies
					OR = {
						has_building = wharf
						has_building = counting_house
						any_neighbor_province = {
							owned_by = ROOT
							trade_goods = coal
						}
					}
					NOT = { has_province_flag = shipyards_of_x }
				}
				set_province_flag = shipyards_of_x
				save_event_target_as = ship_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 1.5
			has_country_flag = atmospheric_engine_flag
		}
		modifier = {
			factor = 1.5
			has_country_flag = watt_steam_engine_flag
		}
		modifier = {
			factor = 1.25
			coal = 3
			NOT = { furnace = 3 }
		}
		modifier = {
			factor = 1.5
			furnace = 3
		}
		modifier = {
			factor = 1.25
			coal = 5
			NOT = { furnace = 5 }
		}
		modifier = {
			factor = 1.5
			furnace = 5
		}
		modifier = {
			factor = 1.5
			NOT = {
				any_owned_province = {
					has_province_flag = shipyards_of_x
				}
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = shipyards_of_x
				value = 4
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = shipyards_of_x
				value = 5
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = shipyards_of_x
				value = 7
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = shipyards_of_x
				value = 9
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = shipyards_of_x
				value = 11
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = shipyards_of_x
				value = 13
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = shipyards_of_x
				value = 15
			}
		}
	}
	
	option = {
		name = "industrialization_events.16.a"
		event_target:ship_province = {
			add_base_production = 2
			add_province_modifier = {
				name = "shipyards_of_x_modifier"
				duration = 7300
			}
		}
		random_owned_province = {
			limit = {
				unindustrialized_province_trigger = yes
				base_tax = 2
				base_manpower = 2
			}
			add_base_manpower = -1
			add_base_tax = -1
		}
	}
}

#Downsides of Industrializing

#Hostility to New Production Techniques
country_event = {
	id = industrialization_events.17
	title = "industrialization_events.17.t"
	desc = "industrialization_events.17.d"
	picture = RIOTING_workers_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		has_institution = industrial_revolution
		any_owned_province = {
			industrialized_province_trigger = yes
			NOT = { has_province_flag = luddite_protests }
		}
	}
	
	immediate = { #luddite_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					industrialized_province_trigger = yes
					NOT = { has_province_flag = luddite_protests }
				}
				set_province_flag = luddite_protests
				save_event_target_as = luddite_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 3
			}
		}
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 6
			}
		}
		modifier = {
			factor = 1.25
			coal = 3
			NOT = { furnace = 3 }
		}
		modifier = {
			factor = 1.5
			furnace = 3
		}
		modifier = {
			factor = 1.25
			coal = 5
			NOT = { furnace = 5 }
		}
		modifier = {
			factor = 1.5
			furnace = 5
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = luddite_protests
				value = 10
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = luddite_protests
				value = 12
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = luddite_protests
				value = 14
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = luddite_protests
				value = 16
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = luddite_protests
				value = 18
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = luddite_protests
				value = 20
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = luddite_protests
				value = 22
			}
		}
	}
	
	option = {
		name = "industrialization_events.17.a"
		ai_chance = {
			factor = 100
		}
		event_target:luddite_province = {
			add_devastation = 25
			spawn_rebels = {
				type = anti_tax_rebels
				size = 2
			}
		}
	}
	option = {
		name = "industrialization_events.17.b"
		ai_chance = {
			factor = 0
		}
		event_target:luddite_province = {
			add_devastation = 10
			add_province_modifier = {
				name = "gave_in_to_luddite_protests"
				duration = 3650
			}
		}
	}
}

#Impoverished Artisans
country_event = {
	id = industrialization_events.18
	title = "industrialization_events.18.t"
	desc = "industrialization_events.18.d"
	picture = RIOTING_workers_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		has_institution = industrial_revolution
		any_owned_province = {
			industrialized_province_trigger = yes
		}
		any_owned_province = {
			unindustrialized_province_trigger = yes
			province_viable_for_industrialization_events_trigger = yes
			NOT = { has_province_flag = impoverished_artisans }
		}
	}
	
	immediate = { #poor_artisans_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					unindustrialized_province_trigger = yes
					province_viable_for_industrialization_events_trigger = yes
					NOT = {
						has_province_flag = impoverished_artisans
					}
				}
				set_province_flag = impoverished_artisans
				save_event_target_as = poor_artisans_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 3
			}
		}
		modifier = {
			factor = 1.5
			calc_true_if = {
				has_country_flag = atmospheric_engine_flag
				has_country_flag = coke_blast_furnaces_flag
				has_country_flag = watt_steam_engine_flag
				has_country_flag = rotherham_plough_flag
				has_country_flag = flying_shuttle_flag
				has_country_flag = spinning_jenny_flag
				amount = 6
			}
		}
		modifier = {
			factor = 1.25
			coal = 3
			NOT = { furnace = 3 }
		}
		modifier = {
			factor = 1.5
			furnace = 3
		}
		modifier = {
			factor = 1.25
			coal = 5
			NOT = { furnace = 5 }
		}
		modifier = {
			factor = 1.5
			furnace = 5
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = impoverished_artisans
				value = 8
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = impoverished_artisans
				value = 10
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = impoverished_artisans
				value = 12
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = impoverished_artisans
				value = 14
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = impoverished_artisans
				value = 16
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = impoverished_artisans
				value = 18
			}
		}
		modifier = {
			factor = 0.25
			num_of_owned_provinces_with = {
				has_province_flag = impoverished_artisans
				value = 20
			}
		}
	}
	
	option = {
		name = "industrialization_events.18.a"
		ai_chance = {
			factor = 100
		}
		event_target:poor_artisans_province = {
			add_province_modifier = {
				name = "impoverished_artisans"
				duration = 3650
			}
		}
	}
	option = {
		name = "industrialization_events.18.b"
		ai_chance = {
			factor = 0
		}
		add_years_of_income = -0.05
	}
}


#Spread of Disease
country_event = {
	id = industrialization_events.19
	title = "industrialization_events.19.t"
	desc = "industrialization_events.19.d"
	picture = PLAGUE_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		has_institution = industrial_revolution
		any_owned_province = {
			industrialized_province_trigger = yes
			development = 20
			NOT = {
				has_province_flag = spread_of_disease
			}
		}
	}
	
	immediate = { #disease_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					industrialized_province_trigger = yes
					development = 20
					NOT = {
						has_province_flag = spread_of_disease
					}
				}
				set_province_flag = spread_of_disease
				save_event_target_as = disease_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = spread_of_disease
				value = 20
			}
		}
	}
	
	option = {
		name = "industrialization_events.19.a"
		ai_chance = {
			factor = 0
		}
		add_years_of_income = -0.15
	}
	option = {
		name = "industrialization_events.19.b"
		ai_chance = {
			factor = 100
		}
		event_target:disease_province = {
			add_devastation = 50
		}
	}
}

#Mining Accident in [mining_province.GetName]
country_event = {
	id = industrialization_events.20
	title = "industrialization_events.20.t"
	desc = "industrialization_events.20.d"
	picture = RIOTING_workers_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		has_institution = industrial_revolution
		any_owned_province = {
			industrialized_province_trigger = yes
			NOT = { has_province_flag = mining_accident }
			OR = {
				trade_goods = coal
				trade_goods = iron
				trade_goods = copper
			}
		}
	}
	
	immediate = { #mining_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					industrialized_province_trigger = yes
					OR = {
						trade_goods = coal
						trade_goods = iron
						trade_goods = copper
					}
					NOT = {
						has_province_flag = mining_accident
					}
				}
				set_province_flag = mining_accident
				save_event_target_as = mining_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = mining_accident
				value = 20
			}
		}
	}
	
	option = {
		name = "industrialization_events.20.a"
		event_target:mining_province = {
			add_devastation = 25
		}
	}
}

#Fire of [fire_province.GetCapitalname]
country_event = {
	id = industrialization_events.21
	title = "industrialization_events.21.t"
	desc = "industrialization_events.21.d"
	picture = PLAGUE_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		has_institution = industrial_revolution
		any_owned_province = {
			industrialized_province_trigger = yes
			NOT = { has_province_flag = great_fire }
		}
	}
	
	immediate = { #fire_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					industrialized_province_trigger = yes
					NOT = { has_province_flag = great_fire }
				}
				set_province_flag = great_fire
				save_event_target_as = fire_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = great_fire
				value = 20
			}
		}
	}
	
	option = {
		name = "industrialization_events.21.a"
		event_target:fire_province = {
			add_devastation = 50
			area = {
				limit = {
					owned_by = ROOT
					NOT = { has_province_modifier = fire_compensation }
				}
				add_province_modifier = {
					name = "fire_compensation"
					duration = 3650
				}
			}
		}
	}
	option = {
		name = "industrialization_events.21.b"
		add_years_of_income = -0.15
		event_target:fire_province = {
			add_devastation = 50
		}
	}
}


#Local Production Crushed
country_event = {
	id = industrialization_events.22
	title = "industrialization_events.22.t"
	desc = "industrialization_events.22.d"
	picture = TEXTILE_INDUSTRY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Rule Britannia"
		has_institution = industrial_revolution
		calc_true_if = {
			all_owned_province = {
				industrialized_province_trigger = yes
				trade_goods = cloth
			}
			amount = 3
		}
		any_owned_province = {
			unindustrialized_province_trigger = yes
			NOT = { has_province_flag = overseas_production_province_flag }
			NOT = { continent = CAPITAL }
			is_in_capital_area = no
			trade_goods = cloth
			base_production = 2
		}
	}
	
	immediate = { #overseas_production_province
		hidden_effect = {
			random_owned_province = {
				limit = {
					unindustrialized_province_trigger = yes
					NOT = { has_province_flag = overseas_production_province_flag }
					NOT = { continent = CAPITAL }
					is_in_capital_area = no
					trade_goods = cloth
					base_production = 2
				}
				set_province_flag = overseas_production_province_flag
				save_event_target_as = overseas_production_province
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = overseas_production_province_flag
				value = 2
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = overseas_production_province_flag
				value = 4
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = overseas_production_province_flag
				value = 6
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = overseas_production_province_flag
				value = 8
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = overseas_production_province_flag
				value = 10
			}
		}
		modifier = {
			factor = 0.5
			num_of_owned_provinces_with = {
				has_province_flag = overseas_production_province_flag
				value = 12
			}
		}
	}
	
	option = {
		name = "industrialization_events.22.a"
		add_dip_power = -25
	}
	option = {
		name = "industrialization_events.22.b"
		event_target:overseas_production_province = {
			if = {
				limit = { continent = europe }
				change_trade_goods = wool
			}
			else_if = {
				limit = {
					OR = {
						region = west_siberia_region
						region = east_siberia_region
					}
				}
				change_trade_goods = wool
			}
			else = {
				change_trade_goods = cotton
			}
			add_base_production = -1
		}
		random_owned_province = {
			limit = {
				industrialized_province_trigger = yes
				trade_goods = cloth
			}
			add_base_production = 1
		}
	}
}